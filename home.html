<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <meta property="og:title" content="Web of World War"/>
    <meta property="og:image" content="http://www.imgbase.info/images/safe-wallpapers/military/world_war_1/37231_world_war_1.jpg"/>
    <meta property="og:site_name" content="Web of World War"/>
    <meta property="og:description" content="Facebook's Open Graph protocol allows for web developers to turn their websites into Facebook "graph" objects, allowing a certain level of customization over how information is carried over from a non-Facebook website to Facebook when a page is 'recommended', 'liked', or just generally shared."/>

    <title>Web of World War</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/agency.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

    <!-- Parse Core JavaScript -->
    <script src="http://www.parsecdn.com/js/parse-1.4.2.min.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top" class="index">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand page-scroll" href="#page-top">Web of World War</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="home.html">首頁</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="timeline.html">時間軸</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="celebrity.html">歷史人物</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <!-- Home Section -->
    <section id="home" class="bg-light-gray">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading">First World War</h2>
                    <h3 class="section-subheading text-muted">看懂一戰就是這麼簡單</h3>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-offset-2 col-sm-4">
                    <div class="core-obj">
                        <a href = "timeline.html">
                        <img src="http://i.imgur.com/QoCwRMs.png" class="img-responsive img-circle" alt="">
                        </a>
                        <h4>從時間軸看一戰</h4>
                        <p class="text-muted text-uppercase">Timeline</p>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="core-obj">
                        <a href = "celebrity.html">
                        <img src="http://i.imgur.com/JB9NO7G.png" class="img-responsive img-circle" alt="">
                        </a>
                        <h4>從歷史人物看一戰</h4>
                        <p class="text-muted text-uppercase">Historical Figure</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading">Contact Us</h2>
                    <h3 class="section-subheading text-muted">有任何問題，歡迎與我們聯絡.</h3>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <form name="sentMessage" id="contactForm" novalidate>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <input type="text" class="form-control" placeholder="Your Name *" id="name" required data-validation-required-message="Please enter your name.">
                                    <p class="help-block text-danger"></p>
                                </div>
                                <div class="form-group">
                                    <input type="email" class="form-control" placeholder="Your Email *" id="email" required data-validation-required-message="Please enter your email address.">
                                    <p class="help-block text-danger"></p>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <textarea class="form-control" placeholder="Your Message *" id="message" required data-validation-required-message="Please enter a message."></textarea>
                                    <p class="help-block text-danger"></p>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="col-lg-12 text-center">
                                <div id="success"></div>
                                <button type="click" id="commentForm" class="btn btn-xl">Send Message</button>
                            </div>

                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <div id="comment" class="btn-primary">
        <div class="container">
            <div class="row">
              <div class="col-lg-12 text-center">
              <h1>世界一戰留言板</h1>
              </div>
              <div class="col-lg-12">
              <table class="table table-hover">
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>When</th>
                  <th>Message</th>
                </tr>
              </table>
              </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <span class="copyright">Copyright &copy; WebOfWorldWar Website 2015</span>
                </div>
                <div class="col-md-6">
                    <span class="copyright">Copyright &copy; 2013-2015 Iron Summit Media Strategies, LLC. Code released under the Apache 2.0 license.</span>
                </div>

                <!-- <div class="col-md-4">
                    <ul class="list-inline social-buttons">
                        <!--<li><a href="#"><i class="fa fa-twitter"></i></a>-->
                        <!--</li>-->
                        <!--<li><a href="#"><i class="fa fa-facebook"></i></a>-->
                        <!--</li>-->
                        <!--<li><a href="#"><i class="fa fa-linkedin"></i></a>-->
                        <!--</li>-->
                    <!-- </ul> -->
                <!-- </div> -->
                <!-- <div class="col-md-4"> -->
                    <!-- <ul class="list-inline quicklinks"> -->
                        <!--<li><a href="http://nccucs-project.github.io/WebOfWorldWar/contactus">Contact Us</a>-->
                        <!--</li>-->
                        <!--<li><a href="#">Privacy Policy</a>-->
                        <!--</li>-->
                        <!--<li><a href="#">Terms of Use</a>-->
                        <!--</li>-->
                    <!-- </ul> -->
                <!-- </div> -->
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="js/classie.js"></script>
    <script src="js/cbpAnimatedHeader.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/agency.js"></script>

    <!--引入初始化 Parse 的 js 檔案-->
    <script type="text/javascript" src="js/key.js"></script>
    <script type="text/javascript">

    $(document).ready(function() {
      $('div#comment').hide();
    });

    $(document).on('click','#commentForm',function(eventObject){
      eventObject.preventDefault();

      if($("#name").val()==="" || $("#email").val()==="" || $("#message").val()===""){
        alert("Please fill out all questions!");
        //window.location.reload();
      }
      else{

      var Comment = Parse.Object.extend("Comment") ;
      var comment = new Comment();

      comment.set("name",$("#name").val());
      comment.set("email",$("#email").val());
      comment.set("message",$("#message").val());

      comment.save({
        success : function(savedParseObject){
          alert("留言成功，您可以於底下觀看你與其他網友的留言");
          //window.location.reload();
          var Comment = Parse.Object.extend("Comment");
          var query = new Parse.Query(Comment);

          //query.equalTo("role", "student"); // Only show student role
          query.find({
            success: function(UserList){
              console.log('User lists: ', UserList);
              $('div#comment').show(2000);

              for(var i=UserList.length-1; i >= 0; i--){
                 $('table.table').append(
                   '<tr><td>' + UserList[i].get('name') + '</td><td>' +
                   UserList[i].get('email') + '</td><td>' +
                   UserList[i].createdAt.toString().substring(0, 24) + '</td><td>' +
                   UserList[i].get('message') + '</td></tr>');
              }
            },
            error: function(error){
              console.log(error);
              alert(error.message);
            }
          });
        },
        error : function (errorObject){
          console.log(errorObject);
          alert(errorObject.message);
        }
      });

      }
    });

    //   $(document).on('submit','#signUpForm',function(e){
    //
    //     console.log('signUp submit');
    //       e.preventDefault();  // 避免 form submit 完成後 轉址
    //       var user = new Parse.User();
    //       user.set("username", $('#usernamesignUp').val());
    //       user.set("email",    $('#emailsignUp').val());
    //       user.set("password", $('#passwordsignUp').val());
    //       // username, email, passwod 一定都要有
    //
    //       // // set user role depending on RadioBox
    //       // if($("#-1").prop("checked")){
    //       //   user.set("role", "student");
    //       // }
    //       // else{
    //       //   user.set("role", "teacher");
    //       // }
    //
    //       user.signUp(null,{
    //         success : function(user){     // 註冊成功後會執行的 callback
    //           console.log(user);
    //           alert("你已註冊成功，恭喜！");
    //           window.location="index.html";
    //           return null //避免程式繼續
    //         },
    //         error : function(course, error){ // 註冊失敗後會執行的 callback
    //           console.log('error', error.message) ;
    //           alert(error.message);
    //         }
    //       });//endof signUp
    //     /* 結束*/
    //   });  //endof signUpBtn onSubmit
    // </script>
    // <script type="text/javascript">
    //
    //   $(document).ready(function() {
    //     var currentUser = Parse.User.current();
    //     if (currentUser) {
    //       Parse.User.logOut();
    //       console.log('logout current: ', Parse.User.current());
    //       $('div.reservoir-table').hide();
    //       $('div.reservoir-input').hide();
    //     }
    //   });
    //
    //   $(document).on('submit','#logInForm',function(e){
    //
    //     console.log('logIn submit');
    //     /* 請閱讀完 html 後在這裡填入送出表單後需要執行的程式碼 */
    //
    //       // 提示1 : 記得使用 preventDefault 方程 避免表單轉址
    //       e.preventDefault();  // 避免 form submit 完成後 轉址
    //       //var user = new Parse.User(); //此嘗試方法錯誤
    //       var username = $('#usernamelogIn').val() ;
    //       var password = $('#passwordlogIn').val() ;
    //
    //       // 用 Parse.User.current() 判定使用者是否是登入的狀態，這裏還沒登入，會是 null
    //       console.log("登入之前的 Parse.User.current() :", Parse.User.current());
    //
    //       Parse.User.logIn(username, password, {
    //        success: function(user) {
    //          // 到 console 看看 Parse.User.current()  的東西
    //           var currentUser = Parse.User.current();
    //           console.log("登入之後的 Parse.User.current() :", currentUser);
    //           $('div.reservoir-table').show();
    //           $('div.reservoir-input').show();
    //
    //
    //           // 提示2 : 請在使用者登入成功後，自動幫助使用者簽到
    //           var SignCourse = Parse.Object.extend("SignCourse");
    //           var query = new Parse.Query(SignCourse);
    //
    //           query.equalTo("username", currentUser.get("username")); //Query Parse data for 'username column' is equal to currentUser.get("username")
    //
    //           query.find({
    //             success: function(result) {
    //                   if (result.length == 0) {
    //                     var SignCourse = Parse.Object.extend("SignCourse");
    //                     var attender = new SignCourse();
    //
    //                     attender.set("username", currentUser.get("username"));
    //                     attender.set("role", currentUser.get("role"));
    //                     attender.save(null, {
    //                       success: function(attend) {
    //                         console.log('attend signed');
    //                       },
    //                       error: function(attend, error) {
    //                         alert(error);
    //                         console.log('attend error', error.message);
    //                       }
    //                     });
    //                   }
    //             },
    //             error: function(error) {
    //                   alert(error);
    //                   console.log('error', error.message);
    //             }
    //       });
    //           // 提示3 : 簽到成功後，要將畫面切換到 index 頁面
    //           alert('您已登入成功，將顯示你訂閱的所有水庫！');
    //           //window.location = 'index.html';
    //           return null;
    //       },
    //       error:function(user,error){
    //         console.log('login error',error);
    //         alert('您輸入的使用者名稱或密碼有誤！');
    //       }
    //
    //       });//endof login
    //     /* 結束*/
    //   });//endof logInBtn onSubmit
    // </script>
    // <script>
    //    $(document).ready(function() {
    //      $('form#signUpForm').hide();
    //
    //    });
    //
    //    $('a.btnTologIn').click(function(e){
    //      e.preventDefault();
    //        $('form#signUpForm').hide();
    //        $('form#logInForm').show();
    //    });
    //    $('a.btnTosignUp').click(function(e){
    //      e.preventDefault();
    //        $('form#signUpForm').show();
    //        $('form#logInForm').hide();
    //    });
    // </script>

</body>

</html>
